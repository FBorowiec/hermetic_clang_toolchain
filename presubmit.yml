---
matrix:
  platform: ["ubuntu2004", "macos", "windows"]
  bazel: ["7.x", "8.x", "rolling"]
tasks:
  verify_targets:
    name: "Verify targets can be built"
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_targets:
      - "@hermetic_clang_toolchain//clang_toolchain/..."
      - "@hermetic_clang_toolchain//example:simple_test"
    skip_if:
      - platform == "macos"
      - platform == "windows"
